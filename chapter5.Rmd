# Dimensionality reduction techniques

##### This exercise analyses data from the wrangled *Human* dataset with 155 observations in 8 variables.

```{r echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
# load the wrangled Human data
human = read.table("data/human.csv", sep = ";", header = TRUE)
# Dimensions of the data
dim(human)
```

##### Human is a subset of a dataset at http://hdr.undp.org/en/content/human-development-index-hdi by Tuomo Nieminen.  
##### The original data combines several indicators from most countries in the world and the subset has the following variables by country:

* "GNI" = Gross National Income per capita
* "LifeExp" = Life expectancy at birth
* "ExpEduYrs" = Expected years of schooling 
* "MMR" = Maternal mortality ratio
* "ABR" = Adolescent birth rate
* "FemaleParl" = Percetange of female representatives in parliament
* "EduFemale" = Proportion of females with at least secondary education
* "LabourFemale" = Proportion of females in the labour force.

The structure of the *human* dataset looks like this:
```{r echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
# Print structure of the data
str(human)
```

And its summary like this:
```{r echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
# Print summary of the data
summary(human)
```

Now, printing correlation matrix of data and visualizing it further with plots:
```{r echo=FALSE, error=FALSE, warning=FALSE, message=FALSE}
# Access GGally, dplyr, corrplot
library(GGally)
library(dplyr)
library(corrplot)
# visualize the 'human' variables
ggpairs(human)
# compute the correlation matrix and visualize it with corrplot
cor(human) %>% corrplot()

```
  
**Correlations:**  
  
As we can see from above visualizations, *female education* has a strong positive correlation with expected number of years in education, life expectancy and gross national indome per capita (GNI). There's also a high negative correlation with maternal mortality rate (MMR) and adolescent birth rate (ABR). In sum: Providing women with equal opportunity to education is good for everybody and the society as a whole.  
  
*Expected years in education* has a strong positive correlation with life expectancy and a strong negative correlation with both MMR and ABR.  

*Life expectancy* has a strong positive correlation with GNI and even stronger, but negative, correlation with MMR and ABR.  
  
*GNI* correlates positively with ABR and negatively with MMR.  
  
*MMR* has a high positive correlation with ABR.  

**Distributions:**  
  
It can also be seen from the distributions that female education is very evenly distributed among countries. Proportion of females of the labour force, individual's expected years of education and percentage of females in the parliament follow a somewhat normal distibution. Life expectancy varies between coutries with most countries at the higher end of the scale, but some still lagging behind. Gross national income per capita is still very unevenly distributed with most countries at the low end of the scale. Maternal mortality and adolescent birth rate are fortunately low in most countries, but adolescent pregnancies still seem to be an issue violating the rights of children in many parts of the world.  

Let's perform principal component analysis on the data (unstandardized), show the variability captured by the principal components and draw a biplot.  
```{r echo=TRUE, error=FALSE, warning=FALSE, message=FALSE}
# perform principal component analysis (PCA) with the SVD method
pca_human <- prcomp(human, scale=TRUE)
# print out summaries of the variables
summary(pca_human, scale=TRUE)
# draw a biplot of the PCA and the original variables
biplot(pca_human, choices = 1:2, cex = c(0.8, 1), col = c("grey30", "red"))
```



